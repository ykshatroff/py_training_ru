Лекция 6. Объекты. Атрибуты. Модули 
=========


### Значки, используемые в тексте

* :clock2: &mdash; отмечает, что высказывание не совсем верно, но будет уточнено позднее.
* :star: &mdash; выделяет определение нового понятия.
* :exclamation: &mdash; привлекает внимание к высказыванию.
* :point_up: &mdash; указывает на небольшое отступление от темы или уточнение.
* :bulb: &mdash; индикатор традиций и договорённостей. 
* :warning: &mdash; требуется осторожность: возможно, сложное высказывание.  

### Повторение терминов из пяттой лекции

* *Контейнеры* &mdash; объекты, содержащие в себе другие объекты (элементы).
* *Изменяемые контейнеры* &mdash; контейнерные объекты, содержимое которых может меняться.
* *Строки* &mdash; неизменяемые контейнерные объекты, элементом которых является символ или байт.
* *Строки unicode* &mdash; строки, элементом которых является символ unicode.
* *Списки* &mdash; изменяемые контейнерные объекты, элементом которых может быть любой объект.
* *Утверждение (цикл) `for`* &mdash; утверждение, указывающее интерпретатору на необходимость выполнения содержащегося
  в нём блока кода последовательно для всех элементов контейнера.
* *Утверждение `assert`* &mdash; утверждение, которое при невыполнении передаваемого ему условия вызывает ошибку.

## Объекты

До сих пор мы довольно часто сталкивались со словом "объект", но не вдавались в подробности.
Пришло время познакомиться с объектами поближе.

Объект в Python -- это любая сущность данных, включая числа, строки, списки. Синтаксически, объект -- 
это результат вычисления выражения.
 
Объект  в Python имеет два главных свойства: тип и идентичность.

## Тип объекта

Тип объекта -- это тип данных, сущностью которого является объект, и его можно узнать с помощью функции
`type()`: 

```python
print type(1)  # <type 'int'>
print type("a")  # <type 'str'>
print type(u"a")  # <type 'unicode'>
print type([])  # <type 'list'>
```
Мы видим, что названия типов объектов совпадают с именами функций преобразования к этому типу. На самом деле,
"функции преобразования" -- это не просто функции, а *конструкторы* типов: функция `int()` *создаёт*
объект типа `int`, и так далее. Примечательно, что если мы попробуем вывести "значение" конструктора, 
мы увидим то же самое, что и при выводе типа:

```python
print int  # <type 'int'>
```

Какой практической пользой это обладает? Мы получаем возможность узнать тип объекта -- 
переменной, литерала, выражения -- и с помощью простого оператора равенства сравнить его с одним из известных
нам типов:

```python
assert type(1) == int
assert type("a") == str
```

:clock2: Если углубиться в исследование типов, окажется, что конструктор также является объектом типа `type`, а собственно
`type` -- это также конструктор, который имеет тот же тип `type`, и он является "корневым" типом всей системы типов
Python.

```python
print type(int)  # <type 'type'>
print type(type)  # <type 'type'>
```
Уже скоро мы увидим, как осуществляется создание объектов и какую роль в этом играет конструктор типа.

## Идентичность объекта. Оператор `is`

Все объекты в Python имеют уникальный идентификатор, который позволяет отличить один объект от другого, даже
если у них одинаковые значения и тип данных. Этот идентификатор можно получить с помощью функции `id()`:
```python
print id(1)  # 39043416
print id("a")  # 140225581035472
```
Идентификатор является 32- или 64-бытным целым числом и действует на время жизни программы 
(то есть меняется при каждом её перезапуске).

Если идентификаторы объектов равны, это гарантирует, что объект один и тот же. Что нам это даёт? 
Помните про изменяемые и неизменяемые объекты? -- Так вот, проверить, изменился ли сам объект (контейнер) 
или был создан новый, можно с помощью этой функции.
   
```python
x = 1
y = x
assert id(x) == id(y)
y += 1
assert id(x) != id(y)

x = [1]
y = x
assert id(x) == id(y)
y += [2]
assert id(x) == id(y)
```

Впрочем, такое написание довольно ненаглядно и предполагает теоретические обоснования (которые приведены выше), а
так как эта проверка важна и используется часто, для неё создан специальный оператор `is`, который
 полностью аналогичен примеру выше: он проверяет идентичность
объектов-операндов и возвращает `True`, если оба выражения указывают на один объект, иначе `False`.

```python
x = 1
y = x
assert x is y
y += 1
assert not x is y
assert x is not y

x = [1]
y = x
assert x is y
y += [2]
assert x is y
```
Да, и у данного оператора есть противоположный: `x is not y` эквивалентно `not x is y`, но более естественно.
 
## Атрибуты объектов

Самое интересное ждёт нас впереди, буквально отсюда.
Атрибуты -- это то, что делает Python таким гибким, в одно и то же время простым и сложным языком.
Можно сказать, что понятие атрибута является краеугольным камнем Python.

Атрибут объекта -- это другой объект, связанный с первым специальным отношением членства. 
Примерно как и элемент контейнера, который мы можем получить по индексу, атрибут имеет имя, по которому мы
можем получить его от связанного объекта.

